var RECIPES = [
    {
        name: "Apple Sauce",
        recipeItems:[
            {
                name: "apples",
                checked: false,
                quantity: "4 lbs",
            },
            {
                name: "lemon peels",
                checked: false,
                quantity: "2",
            },
            {
                name: "apple cider vinegar",
                checked: false,
                quantity: "3 table spoons",
            },
            {
                name: "ground cinnamon",
                checked: false,
                quantity: "1/2 teaspoon",
            },
            {
                name: "white sugar",
                checked: false,
                quantity: "1/2 cup",
            },
            {
                name: "water",
                checked: false,
                quantity: "1 cup",
            },
            {
                name: "salt",
                checked: false,
                quantity: "1/2 teaspoon",
            },
        ],
    },
    {
        name: "Chili",
        recipeItems:[
            {
                name: "ground beef",
                checked: false,
                quantity: "2 lbs",
            },
            {
                name: "onion",
                checked: false,
                quantity: "1 and 1/2 cups",
            },
            {
                name: "minced garlic",
                checked: false,
                quantity: "1/4 teaspoon",
            },
            {
                name: "mexene chili powder",
                checked: false,
                quantity: "4 tablespoons",
            },
            {
                name: "salt",
                checked: false,
                quantity: "1 teaspoon",
            },
            {
                name: "sugar",
                checked: false,
                quantity: "1 teaspoon",
            },
            {
                name: "brooks chili hot beans",
                checked: false,
                quantity: "2 cans",
            },
            {
                name: "petite diced tomatoes",
                checked: false,
                quantity: "2 cans",
            },
            {
                name: "tomato sauce",
                checked: false,
                quantity: "2 cans",
            },
            {
                name: "hormel chili no beans",
                checked: false,
                quantity: "2 cans",
            },
        ],
    },
    {
        name: "Chocolate Chip Cookies",
        recipeItems:[
            {
                name: "butter",
                checked: false,
                quantity: "1 cup",
            },
            {
                name: "white sugar",
                checked: false,
                quantity: "1 cup",
            },
            {
                name: "brown sugar",
                checked: false,
                quantity: "1 cup",
            },
            {
                name: "eggs",
                checked: false,
                quantity: "2",
            },
            {
                name: "vanilla extract",
                checked: false,
                quantity: "2 teaspoons",
            },
            {
                name: "baking soda",
                checked: false,
                quantity: "1 teaspoon",
            },
            {
                name: "hot water",
                checked: false,
                quantity: "2 teaspoons",
            },
            {
                name: "salt",
                checked: false,
                quantity: "1/2 teaspoons",
            },
            {
                name: "all-purpose flour",
                checked: false,
                quantity: "3 cups",
            },
            {
                name: "semi-sweet chocolate chips",
                checked: false,
                quantity: "2 cups",
            },
            {
                name: "chopped walnuts",
                checked: false,
                quantity: "1 cup",
            },
        ],
    },
    {
        name: "Kale Salad",
        recipeItems:[
            {
                name: "sliced almonds",
                checked: false,
                quantity: "2 cups",
            },
            {
                name: "freshly squeezed lemon juice",
                checked: false,
                quantity: "1/3 cup",
            },
            {
                name: "kosher salt",
                checked: false,
                quantity: "1 dash",
            },
            {
                name: "extra virgin olive oil",
                checked: false,
                quantity: "1/2 cups",
            },
            {
                name: "garlic",
                checked: false,
                quantity: "4 cloves",
            },
            {
                name: "dried kale leaves",
                checked: false,
                quantity: "10-12",
            },
            {
                name: "Parmesan",
                checked: false,
                quantity: "1 and 1/2 cups",
            },
        ],
    },
    {
        name: "Lasagna",
        recipeItems:[
            {
                name: "italian sausage",
                checked: false,
                quantity: "1 lbs",
            },
            {
                name: "ground beef",
                checked: false,
                quantity: "3/4 lbs",
            },
            {
                name: "minced onion",
                checked: false,
                quantity: "1/2 cup",
            },
            {
                name: "garlic cloves",
                checked: false,
                quantity: "2 cloves",
            },
            {
                name: "crushed tomatoes",
                checked: false,
                quantity: "1 can (28oz)",
            },
            {
                name: "tomato paste",
                checked: false,
                quantity: "2 cans (6 oz)",
            },
            {
                name: "salt",
                checked: false,
                quantity: "1/2 teaspoon",
            },
        ],
    },
    {
        name: "Mac and Cheese",
        recipeItems:[
            {
                name: "elbow macaroni",
                checked: false,
                quantity: "8 oz",
            },
            {
                name: "whole milk",
                checked: false,
                quantity: "1 cup",
            },
            {
                name: "evaporated milk",
                checked: false,
                quantity: "1 can (12 oz)",
            },
            {
                name: "cream cheese",
                checked: false,
                quantity: "2 oz",
            },
            {
                name: "cheddar cheese",
                checked: false,
                quantity: "1 cups",
            },
            {
                name: "mozzarella cheese",
                checked: false,
                quantity: "3/4 cup",
            },
            {
                name: "kosher salt",
                checked: false,
                quantity: "1/4 teaspoon",
            },
            {
                name: "butter",
                checked: false,
                quantity: "1/4 teaspoon",
            },
        ],
    },
    {
        name: "Pizza",
        recipeItems:[
            {
                name: "warm water",
                checked: false,
                quantity: "2 and 1/2 cups",
            },
            {
                name: "sugar",
                checked: false,
                quantity: "1 teaspoon",
            },
            {
                name: "active dry yeast",
                checked: false,
                quantity: "2 teaspoons",
            },
            {
                name: "all purpose flour",
                checked: false,
                quantity: "7 cups",
            },
            {
                name: "extra-virgin olive oil",
                checked: false,
                quantity: "6 tablespoons",
            },
            {
                name: "kosher salt",
                checked: false,
                quantity: "1 and 1/2 cups",
            },
            {
                name: "semolina flour",
                checked: false,
                quantity: "1/4 cup",
            },
        ],
    },
    {
        name: "Potato Soup",
        recipeItems:[
            {
                name: "bacon",
                checked: false,
                quantity: "6 slices",
            },
            {
                name: "onion",
                checked: false,
                quantity: "1",
            },
            {
                name: "carrots",
                checked: false,
                quantity: "3",
            },
            {
                name: "celery",
                checked: false,
                quantity: "3 stalks",
            },
            {
                name: "potatoes",
                checked: false,
                quantity: "6",
            },
            {
                name: "chicken or vegatable broth",
                checked: false,
                quantity: "8 cups",
            },
            {
                name: "milk",
                checked: false,
                quantity: "1 cup",
            },
        ],
    },
    {
        name: "Spaghetti Sauce",
        recipeItems:[
            {
                name: "extra-virgin olive oil",
                checked: false,
                quantity: "1/2 cup",
            },
            {
                name: "garlic",
                checked: false,
                quantity: "2 cloves",
            },
            {
                name: "celery stalk",
                checked: false,
                quantity: "1",
            },
            {
                name: "carrot",
                checked: false,
                quantity: "1",
            },
            {
                name: "sea salt",
                checked: false,
                quantity: "1/2 cup",
            },
            {
                name: "crushed tomatoes",
                checked: false,
                quantity: "32 oz",
            },
            {
                name: "basil leaves",
                checked: false,
                quantity: "4-6",
            },
            {
                name: "bay leaves",
                checked: false,
                quantity: "2",
            },
            {
                name: "butter",
                checked: false,
                quantity: "4 tablespoons",
            },
        ],
    },
    {
        name: "Steak Frites",
        recipeItems:[
            {
                name: "butter",
                checked: false,
                quantity: "2 tablespoons",
            },
            {
                name: "parsley",
                checked: false,
                quantity: "1 teaspoon",
            },
            {
                name: "minced garlic",
                checked: false,
                quantity: "1/2 teaspoon",
            },
            {
                name: "soy sauce",
                checked: false,
                quantity: "1/4 teaspoon",
            },
            {
                name: "flat iron steak",
                checked: false,
                quantity: "1",
            },
            {
                name: "salt",
                checked: false,
                quantity: "1 teaspoon",
            },
            {
                name: "pepper",
                checked: false,
                quantity: "1/8 teaspoon",
            },
        ],
    },
    
];

// =====DYNAMICALLY DISPLAY PAGES===//

function changeRoute() {
    let hashTag = window.location.hash;
    let pageID = hashTag.replace("#", "");

    MODEL.updateView(pageID)
}

function initURLListener(){
    $(window).on("hashchange", changeRoute);
    changeRoute();
}

// ===HAMBURGER MENU===//

function initListeners() {
    $(".bars").click(function (e) {
        $(".bars").toggleClass("active");
        $(".links").toggleClass("active");
    });

    $(".links a").click(function (e) {
        $(".bars").toggleClass("active");
        $(".links").toggleClass("active");
    });
}

// =====DISPLAY RECIPES===//
function itemChecked(element, recipeIndex, itemIndex){

    $(element).parent().toggleClass("strike");
let checkedValue = !RECIPES[recipeIndex].recipeItems[itemIndex].checked;
RECIPES[recipeIndex].recipeItems[itemIndex].checked = checkedValue;
}

function addItem(recipeIndex){
    let newItemName = $("#addItem").val();
    let newItemObj = {
        name: newItemName,
        checked: false,
        quantity: "",
    };
    RECIPES[recipeIndex].recipeItems.push(newItemObj);
    loadRecipeItems(recipeIndex);
}

function deleteItem(recipeIndex, index){
    RECIPES[recipeIndex].recipeItems.splice(index, 1);
    loadRecipeItems(recipeIndex);
}

function loadRecipeItems(recipeIndex) {
    let listString = `<button onclick="loadRecipes()" >Back</button><ul>`;

    $.each(RECIPES[recipeIndex].recipeItems, function (index, recipeItem) {
        listString += `<li id="${index}" class="${recipeItem.checked ? "strike" : ""}">
        <input ${recipeItem.checked ? (checked =
            "checked") : ""} type="checkbox" id="${index}" name="${recipeItem.name}" onlcick="itemChecked(this, 
                ${recipeIndex}, ${index})">
                <span>${recipeItem.name}</span>
                <span class="delete" onclick="deleteItem(${recipeIndex}, ${index})">Delete</span></li>`;
    });
    listString += `<ul>
    <div class="addItemInput">
    <input id="addItem" type="text">
    <button class="add" onclick="addItem(${recipeIndex})">Add Item</button>
    </div>`;
    $("#app .recipe").html(listString);
}


function loadRecipes() {
    let listString = "<ul>";

    $.each(RECIPES, function(index, recipe) {
        listString += `<li id="${index}"
        onclick="loadRecipeItems(${index})">${recipe.name}
        <span class="right">ITEMS: ${recipe.recipeItems.length}</span></li>`
    });
    listString += "</ul";
    $("#app .recipe").html(listString);
}

// function initListeners() {}

// ===DOCUMENT READY====//

$(document).ready(function () {
    initURLListener();
    initListeners();
}); 